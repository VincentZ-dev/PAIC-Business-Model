<!DOCTYPE html>
<html>
<head>
    <title>Library - Business Builder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/library.css') }}">
    
    <!-- ==========================================
         STEP 1: PASTE YOUR V0 CSS HERE
         Your component should display business plan documents
         Each document has: title, created_at, snapshot (business details), content_html
         ========================================== -->
    <style>
        /* Default page styles - you can keep or remove these */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: linear-gradient(135deg, #144C8C, #00498D, #00264D);
        }
        
        /* ðŸ‘‡ PASTE YOUR V0 CSS BELOW THIS LINE ðŸ‘‡ */
        
        
        
        /* ðŸ‘† PASTE YOUR V0 CSS ABOVE THIS LINE ðŸ‘† */
    </style>
</head>

<body>
    <!-- Navbar (DO NOT MODIFY) -->
    {% include 'navbar.html' %}

    <!-- ==========================================
         STEP 2: PASTE YOUR V0 HTML HERE
         
         IMPORTANT: Your component should display saved documents!
         The backend passes a 'documents' variable with this data:
         
         documents = [
             {
                 "id": "20240124_120530",
                 "title": "My Coffee Shop",
                 "created_at": "2024-01-24T12:05:30",
                 "snapshot": {
                     "Business Name": "My Coffee Shop",
                     "Industry": "Food & Beverage",
                     "Location": "San Francisco"
                 },
                 "content_html": "<h1>Business Plan</h1>..."
             }
         ]
         
         Use Jinja2 to loop through documents:
         {% for doc in documents %}
             <div class="document-card">
                 <h3>{{ doc.title }}</h3>
                 <p>Created: {{ doc.created_at }}</p>
             </div>
         {% endfor %}
         
         ========================================== -->
    
    <!-- ðŸ‘‡ PASTE YOUR V0 HTML BELOW THIS LINE ðŸ‘‡ -->

    <div class="library-container">
        <div class="library-header">
            <div>
                <h1>ðŸ“š Document Library</h1>
                <p style="color:#c5d8f0">Total documents: {{ documents|length }}</p>
            </div>
            <div>
                <input id="searchInput" class="search-input" placeholder="Search documents..." />
            </div>
        </div>

        {% if documents|length == 0 %}
            <div class="empty-state">
                <p>No documents yet. Generate a business plan to see it here!</p>
            </div>
        {% else %}
            <div>
                {% for doc in documents %}
                    <div class="document-card">
                        <div class="meta">
                            <h2>{{ doc.title }}</h2>
                            <p><strong>Created:</strong> {{ doc.created_at }}</p>
                            <p style="margin-top:8px;"><strong>Business Details:</strong></p>
                            <ul>
                                {% for key, value in doc.snapshot.items() %}
                                    <li><strong>{{ key }}:</strong> {{ value }}</li>
                                {% endfor %}
                            </ul>
                        </div>

                        <div class="actions">
                            <a class="btn-link" href="#" onclick="event.preventDefault(); var el=document.getElementById('doc-{{ doc.id }}'); el.style.display=(el.style.display==='none' || el.style.display==='') ? 'block' : 'none';">Preview</a>
                            <button class="btn-danger" onclick="deleteDoc('{{ doc.id }}', this)">Delete</button>
                        </div>
                    </div>

                    <div id="doc-{{ doc.id }}" style="display:none; margin-bottom:24px;">
                        <div style="background:#fff; padding:18px; border-radius:8px;">{{ doc.content_html|safe }}</div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- ðŸ‘† PASTE YOUR V0 HTML ABOVE THIS LINE ðŸ‘† -->

    <!-- Navbar script (DO NOT MODIFY) -->
    <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/library.js') }}"></script>
    
    <!-- ==========================================
         STEP 3: PASTE YOUR V0 JAVASCRIPT HERE (if any)
         Add any interactivity for your document viewer
         ========================================== -->
    
    <!-- ðŸ‘‡ PASTE YOUR V0 JAVASCRIPT BELOW THIS LINE ðŸ‘‡ -->
    
    
    
    <!-- ðŸ‘† PASTE YOUR V0 JAVASCRIPT ABOVE THIS LINE ðŸ‘† -->
</body>
</html>
